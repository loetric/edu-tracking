# كيفية تحديد مواضع الحقول في ملف PDF القالب

## الطريقة الأولى: استخدام برنامج PDF Editor

### الأدوات الموصى بها:
1. **Adobe Acrobat Pro** (الأفضل)
2. **PDF-XChange Editor**
3. **Foxit PDF Editor**
4. **LibreOffice Draw**

### الخطوات:

1. **افتح ملف PDF القالب** في البرنامج
2. **استخدم أداة القياس** (Measure Tool) أو **أداة التعليقات** (Comment Tool)
3. **حدد موضع كل حقل**:
   - انقر على موضع الحقل
   - سجل الإحداثيات (x, y) التي تظهر
   - **ملاحظة مهمة**: في معظم برامج PDF، الإحداثيات تبدأ من الزاوية السفلية اليسرى

4. **سجل المواضع**:
   - x = المسافة من اليسار (بالنقاط)
   - y = المسافة من الأعلى (بالنقاط) - سيتم تحويلها تلقائياً في الكود

### مثال:
إذا كان اسم الطالب يقع على بعد:
- 100 نقطة من اليسار
- 50 نقطة من الأعلى

فستكون الإحداثيات:
```typescript
studentName: { x: 100, y: 50, fontSize: 14, font: 'bold' }
```

---

## الطريقة الثانية: استخدام أداة المساعدة في المتصفح

1. افتح ملف `components/PDFPositionHelper.tsx`
2. استخدم المكون لرفع ملف PDF والنقر على المواضع
3. سيتم حساب الإحداثيات تلقائياً

---

## الطريقة الثالثة: استخدام JavaScript Console

يمكنك فتح ملف PDF في المتصفح واستخدام هذا الكود:

```javascript
// افتح ملف PDF في المتصفح
// ثم استخدم هذا الكود في Console

document.addEventListener('click', (e) => {
  const rect = e.target.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  // Convert to PDF points (assuming A4: 595x842)
  const pdfX = (x / rect.width) * 595;
  const pdfY = 842 - ((y / rect.height) * 842);
  
  console.log(`x: ${Math.round(pdfX)}, y: ${Math.round(pdfY)}`);
});
```

---

## معلومات مهمة:

### وحدات القياس:
- **النقطة (Point)**: الوحدة الأساسية في PDF
- **1 بوصة = 72 نقطة**
- **A4 Page**: عادة 595 × 842 نقطة

### نظام الإحداثيات:
- **الأصل (0,0)**: الزاوية السفلية اليسرى
- **x**: يزيد من اليسار إلى اليمين
- **y**: يزيد من الأسفل إلى الأعلى
- **ملاحظة**: في الكود، y يتم قياسه من الأعلى ثم تحويله تلقائياً

### حجم الخط:
- **العناوين**: 14-16 نقطة
- **النصوص العادية**: 11-12 نقطة
- **النصوص الصغيرة**: 9-10 نقطة

---

## بعد تحديد المواضع:

1. افتح ملف `services/pdfGenerator.ts`
2. ابحث عن `DEFAULT_FIELDS`
3. قم بتحديث الإحداثيات:
   ```typescript
   const DEFAULT_FIELDS: TemplateFields = {
     studentName: { x: 100, y: 50, fontSize: 14, font: 'bold' },
     // ... إلخ
   };
   ```
4. اختبر التقرير للتأكد من أن المواضع صحيحة

---

## نصائح:

1. **ابدأ بالحقول الكبيرة** (مثل اسم الطالب) لتسهيل التحديد
2. **استخدم خطوط واضحة** في القالب لتسهيل القراءة
3. **اختبر بعد كل تعديل** للتأكد من صحة المواضع
4. **احفظ نسخة احتياطية** من القالب الأصلي

---

## إذا واجهت مشاكل:

1. **المواضع غير صحيحة**: تحقق من أن y يتم قياسه من الأعلى
2. **النص لا يظهر**: تحقق من أن الإحداثيات داخل حدود الصفحة
3. **النص مقطوع**: زد قيمة `width` للحقول الطويلة
4. **الخط صغير/كبير**: عدّل `fontSize`

